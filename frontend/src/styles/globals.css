@import "tailwindcss";

@layer utilities {
  @keyframes bell-ring {
    0% { transform: rotate(0); }
    10% { transform: rotate(25deg); }
    20% { transform: rotate(-20deg); }
    30% { transform: rotate(15deg); }
    40% { transform: rotate(-10deg); }
    50% { transform: rotate(5deg); }
    60% { transform: rotate(0); }
    100% { transform: rotate(0); }
  }

  .animate-bell {
    animation: bell-ring 2s ease-in-out;
    transform-origin: top;
  }

  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }

  .animate-pulse {
    animation: pulse 2s infinite;
  }
}

:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96%;
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%;
  --input: 214.3 31.8% 91.4%;
  --ring: 222.2 84% 4.9%;
  --radius: 0.5rem;
  --chart-1: 12 76% 61%;
  --chart-2: 173 58% 39%;
  --chart-3: 197 37% 24%;
  --chart-4: 43 74% 66%;
  --chart-5: 27 87% 67%;
}

.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 210 40% 98%;
  --primary-foreground: 222.2 47.4% 11.2%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 212.7 26.8% 83.9%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
}

/* Ensure dark mode variables apply when 'dark' is placed on the html element */
html.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 210 40% 98%;
  --primary-foreground: 222.2 47.4% 11.2%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 212.7 26.8% 83.9%;
  --chart-1: 220 70% 50%;
  --chart-2: 160 60% 45%;
  --chart-3: 30 80% 55%;
  --chart-4: 280 65% 60%;
  --chart-5: 340 75% 55%;
}

/* Stronger dark-mode fallbacks for utility classes that use concrete colors */
html.dark body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
}

/* Ensure common light backgrounds adapt in dark mode */
html.dark .bg-white,
html.dark .bg-background,
html.dark .card,
html.dark .panel,
html.dark [data-slot="card"] {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Make common text utilities inherit the foreground in dark mode to avoid invisible text */
html.dark .text-gray-900,
html.dark .text-gray-800,
html.dark .text-gray-700,
html.dark .text-gray-600,
html.dark .text-gray-500,
html.dark .text-gray-400 {
  color: hsl(var(--foreground)) !important;
}

/* Reveal card action when hovering */
[data-slot="card-action"] { opacity: 0; transform: translateY(-6px); transition: opacity 180ms ease, transform 180ms ease; }
[data-slot="card"]:hover [data-slot="card-action"] { opacity: 1; transform: translateY(0); }

/* Sidebar item subtle active state */
.sidebar-button { transition: transform 160ms ease, background-color 160ms ease; }
.sidebar-button.active, .sidebar-button:hover { transform: translateX(6px); }


/* Interactive enhancements for dashboards */
.sidebar-button:hover, .sidebar-button:focus {
  transform: translateX(4px);
  background: linear-gradient(90deg, rgba(59,130,246,0.06), rgba(99,102,241,0.04));
}

.notification-pulse {
  position: relative;
}
.notification-pulse::after {
  content: '';
  position: absolute;
  right: -6px;
  top: -6px;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: radial-gradient(circle, rgba(248,113,113,1) 0%, rgba(220,38,38,0.8) 40%, rgba(220,38,38,0) 70%);
  animation: pulse 1.8s infinite;
}

@keyframes pulse {
  0% { transform: scale(0.8); opacity: 0.9; }
  70% { transform: scale(1.6); opacity: 0; }
  100% { transform: scale(1.6); opacity: 0; }
}

/* Card interactivity */
[data-slot="card"]:hover { transform: translateY(-6px); box-shadow: 0 18px 50px rgba(2,6,23,0.12); }

/* Button accent animation */
button.bg-primary { position: relative; overflow: hidden; }
button.bg-primary::after {
  content: '';
  position: absolute; inset: 0; background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0)); transform: translateX(-100%);
  transition: transform 420ms ease;
}
button.bg-primary:hover::after { transform: translateX(0%); }

/* Reduced motion respect */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
}


/* Base styles */
* {
  border-color: hsl(var(--border));
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* Enhanced visuals -------------------------------------------------- */

/* Gentle page gradient */
body {
  background-image: radial-gradient(circle at 10% 10%, rgba(59,130,246,0.06), transparent 10%), radial-gradient(circle at 90% 90%, rgba(99,102,241,0.04), transparent 12%);
  background-color: hsl(var(--background));
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Tone down harsh borders and provide softer card background */
*:where(:not(html,body)) {
  transition: background-color 180ms ease, color 180ms ease, box-shadow 220ms ease, transform 160ms ease;
}

/* Make Tailwind shadow utilities richer and more modern */
.shadow-sm { box-shadow: 0 1px 2px rgba(16,24,40,0.06), 0 1px 3px rgba(16,24,40,0.04); }
.shadow { box-shadow: 0 4px 8px rgba(16,24,40,0.06); }
.shadow-md { box-shadow: 0 6px 18px rgba(16,24,40,0.08); }
.shadow-lg { box-shadow: 0 10px 30px rgba(16,24,40,0.10); }
.shadow-xl, .shadow-2xl { box-shadow: 0 30px 60px rgba(16,24,40,0.12); }

/* Glass-like cards for important containers (uses card color variable) */
.rounded-3xl { border-radius: 1.5rem; }
.rounded-2xl { border-radius: 1rem; }
.bg-white, .card, .panel {
  background-color: hsl(var(--card) / 0.98);
}
.bg-white.backdrop {
  backdrop-filter: blur(6px) saturate(110%);
  -webkit-backdrop-filter: blur(6px) saturate(110%);
}

/* Buttons: smoother, slightly elevated */
button {
  transition: transform 140ms ease, box-shadow 180ms ease, background-color 160ms ease;
}
button:active { transform: translateY(1px) scale(0.998); }
button:focus { box-shadow: 0 6px 18px rgba(59,130,246,0.12); outline: none; }
/* Ghost buttons */
.btn-ghost, button.variant-ghost, .variant-ghost { background: transparent; }

/* Inputs & selects */
input, textarea, select {
  border-radius: 0.75rem;
  border: 1px solid hsl(var(--border));
  background-color: hsl(var(--input) / 0.98);
  padding: 0.6rem 0.75rem;
  box-shadow: none;
}
input:focus, textarea:focus, select:focus { outline: none; box-shadow: 0 6px 18px rgba(59,130,246,0.08); border-color: hsl(var(--primary)); }

/* Tables */
table { border-collapse: separate; border-spacing: 0; }
thead th { background: linear-gradient(180deg, hsl(var(--card) / 0.98), hsl(var(--card) / 0.94)); }
thead th, tbody td { padding: 0.85rem 0.75rem; }
tbody tr:hover { background: hsl(var(--card) / 0.98); transform: translateY(0); }

/* Progress bar smoothing */
.progress-bar { transition: width 240ms linear, background-color 240ms linear; height: 8px; border-radius: 999px; }

/* Tip card subtle hover */
.tip { transition: transform 180ms ease, box-shadow 220ms ease; }
.tip:hover { transform: translateY(-6px); box-shadow: 0 12px 30px rgba(16,24,40,0.08); }

/* Utility: soft fade-in for content */
.fade-in { animation: fadeIn 420ms ease both; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

/* Make card headers stand out */
.card-header, .card h2, .card-title, .card-header * { color: hsl(var(--foreground)); }

/* Accessibility: focus-visible */
:focus-visible { outline: 3px solid hsl(var(--primary) / 0.14); outline-offset: 2px; }

/* Component slot styling (matches component data-slot attributes) */
[data-slot="card"] {
  background: linear-gradient(180deg, hsl(var(--card) / 0.98), hsl(var(--card) / 0.96));
  border: 1px solid hsl(var(--border));
  border-radius: var(--radius);
  box-shadow: 0 6px 20px rgba(2,6,23,0.06);
}

[data-slot="card-header"] {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid hsl(var(--border));
}

[data-slot="card-content"] {
  padding: 1rem 1.25rem 1.25rem 1.25rem;
}

[data-slot="button"] {
  border-radius: 0.75rem;
  padding: 0.6rem 0.9rem;
}

.badge, .badge * , [data-slot="badge"] {
  border-radius: 999px;
  padding: 0.25rem 0.5rem;
}

/* Table niceties */
table thead th { font-weight: 600; color: hsl(var(--foreground)); border-bottom: 1px solid hsl(var(--border)); }
table tbody td { border-bottom: 1px dashed rgba(0,0,0,0.04); }

/* Make primary buttons more prominent across the app */
.bg-primary { background-color: hsl(var(--primary)); color: hsl(var(--primary-foreground)); }
.bg-primary:hover { filter: brightness(0.98); }

